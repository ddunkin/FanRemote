<html>
<head>
<title>Fan Remote</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<style>
table {
    width: 100%;
}
button {
    width: 100%;
    height: 80px;
    font-size: 24px;
}
</style>
</head>
<body>
<h1>Fan Remote</h1>
<table>
    <tr>
        <td><button name="off">Off</button></td>
        <td><button name="high">High</button></td>
    </tr>
    <tr>
        <td><button name="reverse">Reverse</button></td>
        <td><button name="medium">Medium</button></td>
    </tr>
    <tr>
        <td><button name="light">Light</button></td>
        <td><button name="low">Low</button></td>
    </tr>
</table>
<script>
var buttons = document.getElementsByTagName('button');
for (var i = 0; i < buttons.length; i++) {
    var button = buttons.item(i);
    button.addEventListener('click', function (e) {
        send(e.target.name);
        return false;
    });
}

function send(command) {
    var req = new XMLHttpRequest();
    req.addEventListener('load', function () {
        console.log(this.responseText);
    });
    req.open('POST', '/function/' + command);
    req.send();
}
</script>
</body>
</html>
